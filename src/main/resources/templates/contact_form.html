<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Contact Information Form</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body class="bg-gray-100 font-sans">

<div class="max-w-7xl mx-auto py-10 px-4 sm:px-6 lg:px-8">
    <h1 class="text-3xl font-bold text-center mb-8 text-white">CHIP MONG BANK</h1>
    <form th:action="@{/contacts/save}" th:object="${contact}" method="post"
          class="bg-white shadow-md rounded-lg p-6 grid grid-cols-1 lg:grid-cols-2 gap-8">

        <!-- Primary Address -->
        <div class="space-y-6">
            <h2 class="text-xl font-semibold border-b pb-2 mb-4 text-center">Primary Address</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

                <!-- Address -->
                <div>
                    <label for="address1" class="block text-sm font-medium text-gray-700">Address</label>
                    <input type="text" id="address1" th:field="*{address1}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('address1')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('address1')}" th:errors="*{address1}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- Province -->
                <div>
                    <label for="province" class="block text-sm font-medium text-gray-700">Province</label>
                    <select id="province" th:field="*{provinceId}" required
                            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                            th:classappend="${#fields.hasErrors('provinceId')} ? 'border-red-500' : ''">
                        <option value="">Select province</option>
                        <option th:each="p : ${provinces}" th:value="${p.id}" th:text="${p.name}" th:selected="${contact?.provinceId == p.id}"></option>
                    </select>
                    <div th:if="${#fields.hasErrors('provinceId')}" th:errors="*{provinceId}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- Amphur -->
                <div>
                    <label for="amphur" class="block text-sm font-medium text-gray-700">Amphur</label>
                    <select id="amphur" th:field="*{amphurId}" required
                            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                            th:classappend="${#fields.hasErrors('amphurId')} ? 'border-red-500' : ''">
                        <option value="">Select amphur</option>
                    </select>
                    <div th:if="${#fields.hasErrors('amphurId')}" th:errors="*{amphurId}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- District -->
                <div>
                    <label for="district" class="block text-sm font-medium text-gray-700">District</label>
                    <select id="district" th:field="*{districtId}" required
                            class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                            th:classappend="${#fields.hasErrors('districtId')} ? 'border-red-500' : ''">
                        <option value="">Select district</option>
                    </select>
                    <div th:if="${#fields.hasErrors('districtId')}" th:errors="*{districtId}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- Postal Code -->
                <div>
                    <label for="postalCode1" class="block text-sm font-medium text-gray-700">Postal Code</label>
                    <input type="text" id="postalCode1" th:field="*{postalCode1}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('postalCode1')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('postalCode1')}" th:errors="*{postalCode1}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- Telephone -->
                <div>
                    <label for="telephone" class="block text-sm font-medium text-gray-700">Telephone</label>
                    <input type="text" id="telephone" th:field="*{telephone}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('telephone')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('telephone')}" th:errors="*{telephone}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- Fax -->
                <div>
                    <label for="fax" class="block text-sm font-medium text-gray-700">Fax</label>
                    <input type="text" id="fax" th:field="*{fax}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('fax')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('fax')}" th:errors="*{fax}" class="text-red-500 text-xs mt-1"></div>
                </div>

            </div>
        </div>

        <!-- Secondary Address -->
        <div class="space-y-6">
            <h2 class="text-xl font-semibold border-b pb-2 mb-4">Secondary Address</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

                <!-- Address -->
                <div>
                    <label for="address2" class="block text-sm font-medium text-gray-700">Address</label>
                    <input type="text" id="address2" th:field="*{address2}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('address2')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('address2')}" th:errors="*{address2}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- City -->
                <div>
                    <label for="city" class="block text-sm font-medium text-gray-700">City</label>
                    <input type="text" id="city" th:field="*{city}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('city')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('city')}" th:errors="*{city}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- State/Province -->
                <div>
                    <label for="stateProvince" class="block text-sm font-medium text-gray-700">State/Province</label>
                    <input type="text" id="stateProvince" th:field="*{stateProvince}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('stateProvince')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('stateProvince')}" th:errors="*{stateProvince}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- Postal Code -->
                <div>
                    <label for="postalCode2" class="block text-sm font-medium text-gray-700">Postal Code</label>
                    <input type="text" id="postalCode2" th:field="*{postalCode2}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('postalCode2')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('postalCode2')}" th:errors="*{postalCode2}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- Country -->
                <div>
                    <label for="country" class="block text-sm font-medium text-gray-700">Country</label>
                    <input type="text" id="country" th:field="*{country}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('country')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('country')}" th:errors="*{country}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- Contact Person -->
                <div>
                    <label for="contactPerson" class="block text-sm font-medium text-gray-700">Contact Person</label>
                    <input type="text" id="contactPerson" th:field="*{contactPerson}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('contactPerson')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('contactPerson')}" th:errors="*{contactPerson}" class="text-red-500 text-xs mt-1"></div>
                </div>

                <!-- Email -->
                <div class="md:col-span-2">
                    <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                    <input type="email" id="email" th:field="*{email}" required
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"
                           th:classappend="${#fields.hasErrors('email')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-red-500 text-xs mt-1"></div>
                </div>

            </div>

            <!-- Buttons -->
            <div class="flex justify-end gap-4 mt-6">
                <a href="#" id="cancelButton"
                   class="btn btn-secondary px-6 py-2 rounded-md bg-gray-300 hover:bg-gray-400">Cancel</a>
                <button type="submit"
                        class="btn btn-primary px-6 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700"
                        th:text="${contact?.id != null} ? 'Update' : 'Save'">Save</button>
            </div>
        </div>
    </form>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
<script th:src="@{/js/script.js}"></script>
</body>
</html>
